<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Cards Comparison</title>
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8299108249562278"
         crossorigin="anonymous"></script>
    
    <!-- 共通メニュー用のCSS（各ページのheadに追加） -->

<!-- 共通ナビゲーションCSS -->
    <link rel="stylesheet" href="nav-common.css">

    </head>
<body>
    <!-- ウォーターマークロゴ -->
    <img src="crypto-station_logo_black.png" alt="" class="watermark-logo">

    <div class="container">
        <div class="header">
            <h1>Crypto Cards</h1>
            <p class="subtitle">Compare crypto debit cards</p>
            
            <div class="disclaimer">
                <strong>DISCLAIMER:</strong> Example data for development. Not financial advice. Terms change frequently — always verify on the official issuer page and check availability in your country.
            </div>

            <div class="disclaimer" style="background: #e7f3ff; border-color: #b3d9ff; color: #0056b3;">
                <strong>AFFILIATE DISCLOSURE:</strong> Some links on this page are affiliate links. We may earn a commission if you sign up through these links, at no extra cost to you.
            </div>

            <div class="controls">
                <input type="text" class="search-box" id="searchBox" placeholder="Search card / issuer / network...">
                <select class="filter-select" id="regionFilter">
                    <option value="">All regions</option>
                </select>
                <select class="filter-select" id="sortSelect">
                    <option value="name-asc">Sort: Name (A→Z)</option>
                    <option value="name-desc">Sort: Name (Z→A)</option>
                    <option value="rewards-desc">Sort: Rewards (high→low)</option>
                    <option value="fees-asc">Sort: FX fees (low→high)</option>
                </select>
            </div>
        </div>

        <div class="stats" id="stats">
            <!-- Stats will be populated by JavaScript -->
        </div>

        <div class="table-container">
            <table class="table" id="cardsTable">
                <thead>
                    <tr>
                        <th class="sortable" data-sort="name">Card</th>
                        <th class="sortable" data-sort="network">Network</th>
                        <th class="sortable" data-sort="rewards">Rewards %</th>
                        <th class="sortable" data-sort="fees">FX fee %</th>
                        <th class="sortable" data-sort="atm">ATM $</th>
                        <th class="sortable" data-sort="monthly">Monthly $</th>
                        <th class="sortable" data-sort="staking">Staking</th>
                        <th>Regions</th>
                        <th>Links</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Table rows will be populated by JavaScript -->
                </tbody>
            </table>
            <div class="no-results" id="noResults" style="display: none;">
                No cards match your search criteria.
            </div>
        </div>
    </div>

    <script>
        // Sample data for crypto cards
        const CARDS = [
            {
                id: 1,
                name: "Crypto.com Visa Card",
                issuer: "Crypto.com",
                network: "ethereum",
                rewards: 8.0,
                fxFee: 0.0,
                atmFee: 0,
                monthlyFee: 0,
                staking: true,
                regions: ["US", "EU", "UK", "AU", "CA"],
                score: 95
            },
            {
                id: 2,
                name: "Coinbase Card",
                issuer: "Coinbase",
                network: "ethereum",
                rewards: 4.0,
                fxFee: 2.49,
                atmFee: 2.50,
                monthlyFee: 0,
                staking: false,
                regions: ["US", "EU", "UK"],
                score: 78
            },
            {
                id: 3,
                name: "Binance Card",
                issuer: "Binance",
                network: "binance",
                rewards: 2.0,
                fxFee: 0.9,
                atmFee: 2.00,
                monthlyFee: 0,
                staking: true,
                regions: ["EU", "UK", "AS"],
                score: 85,
                docsUrl: "https://www.binance.com/en/cards"
            },
            {
                id: 4,
                name: "Nexo Card",
                issuer: "Nexo",
                network: "ethereum",
                rewards: 2.0,
                fxFee: 0.0,
                atmFee: 0,
                monthlyFee: 0,
                staking: false,
                regions: ["EU", "UK"],
                score: 82
            },
            {
                id: 5,
                name: "BlockFi Rewards Visa",
                issuer: "BlockFi",
                network: "ethereum",
                rewards: 1.5,
                fxFee: 3.0,
                atmFee: 3.50,
                monthlyFee: 0,
                staking: false,
                regions: ["US"],
                score: 65
            },
            {
                id: 6,
                name: "Plutus Card",
                issuer: "Plutus",
                network: "ethereum",
                rewards: 3.0,
                fxFee: 0.0,
                atmFee: 2.00,
                monthlyFee: 4.99,
                staking: true,
                regions: ["EU", "UK"],
                score: 73
            },
            {
                id: 7,
                name: "Wirex Card",
                issuer: "Wirex",
                network: "ethereum",
                rewards: 1.5,
                fxFee: 1.0,
                atmFee: 2.50,
                monthlyFee: 1.00,
                staking: false,
                regions: ["EU", "UK", "US", "AS"],
                score: 70,
                docsUrl: "https://wirexapp.com",
                affiliateUrl: "https://wirexapp.com/r/Cryptostation",
                featured: true
            },
            {
                id: 8,
                name: "Swipe Card",
                issuer: "Swipe",
                network: "ethereum",
                rewards: 6.0,
                fxFee: 0.0,
                atmFee: 0,
                monthlyFee: 0,
                staking: true,
                regions: ["US", "EU", "AS"],
                score: 88
            },
            {
                id: 9,
                name: "Eidoo Card",
                issuer: "Eidoo",
                network: "ethereum",
                rewards: 1.0,
                fxFee: 1.5,
                atmFee: 2.50,
                monthlyFee: 2.00,
                staking: false,
                regions: ["EU"],
                score: 58
            },
            {
                id: 10,
                name: "Bitpay Card",
                issuer: "Bitpay",
                network: "ethereum",
                rewards: 0.0,
                fxFee: 3.0,
                atmFee: 2.00,
                monthlyFee: 5.00,
                staking: false,
                regions: ["US", "EU"],
                score: 45
            }
        ];

        const NETWORK_COLORS = {
            ethereum: 'network-ethereum',
            polygon: 'network-polygon',
            binance: 'network-binance',
            solana: 'network-solana',
            cardano: 'network-cardano'
        };

        let filteredCards = [...CARDS];
        let currentSort = { field: 'name', direction: 'asc' };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            populateRegionFilter();
            renderStats();
            renderTable();
            attachEventListeners();
        });

        function populateRegionFilter() {
            const regionFilter = document.getElementById('regionFilter');
            const allRegions = [...new Set(CARDS.flatMap(card => card.regions))].sort();
            
            allRegions.forEach(region => {
                const option = document.createElement('option');
                option.value = region;
                option.textContent = region;
                regionFilter.appendChild(option);
            });
        }

        function renderStats() {
            const statsContainer = document.getElementById('stats');
            const totalCards = CARDS.length;
            const avgScore = Math.round(CARDS.reduce((sum, card) => sum + card.score, 0) / totalCards);
            const maxRewards = Math.max(...CARDS.map(card => card.rewards));
            const stakingCards = CARDS.filter(card => card.staking).length;

            statsContainer.innerHTML = `
                <div class="stat-card">
                    <span class="stat-number">${totalCards}</span>
                    <div class="stat-label">Total Cards</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${avgScore}</span>
                    <div class="stat-label">Average Score</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${maxRewards}%</span>
                    <div class="stat-label">Max Rewards</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${stakingCards}</span>
                    <div class="stat-label">Staking Available</div>
                </div>
            `;
        }

        function renderTable() {
            const tableBody = document.getElementById('tableBody');
            const noResults = document.getElementById('noResults');

            if (filteredCards.length === 0) {
                tableBody.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }

            noResults.style.display = 'none';

            const sortedCards = sortCards(filteredCards);
            
            tableBody.innerHTML = sortedCards.map((card) => `
                <tr>
                    <td class="card-name">${card.name}${card.featured ? ' <span class="featured-badge">Featured</span>' : ''}</td>
                    <td>
                        <span class="network-badge ${NETWORK_COLORS[card.network]}">
                            ${card.network}
                        </span>
                    </td>
                    <td class="rewards">${card.rewards}%</td>
                    <td class="fee">${card.fxFee}%</td>
                    <td>$${card.atmFee}</td>
                    <td>$${card.monthlyFee}</td>
                    <td>
                        <span class="staking-indicator ${card.staking ? 'staking-yes' : 'staking-no'}"
                              title="${card.staking ? 'Staking available' : 'No staking'}"></span>
                    </td>
                    <td>
                        <div class="region-badges">
                            ${card.regions.map(region =>
                                `<span class="region-badge">${region}</span>`
                            ).join('')}
                        </div>
                    </td>
                    <td>
                        <div class="links">
                            ${card.docsUrl ? `<a href="${card.docsUrl}" class="link-btn" target="_blank" rel="noopener">Info</a>` : ''}
                            ${card.affiliateUrl ? `<a href="${card.affiliateUrl}" class="link-btn" target="_blank" rel="noopener">Apply</a>` : (card.docsUrl ? `<a href="${card.docsUrl}" class="link-btn" target="_blank" rel="noopener">Apply</a>` : '')}
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function getScoreClass(score) {
            if (score >= 90) return 'excellent';
            if (score >= 75) return 'good';
            if (score >= 60) return 'average';
            return 'poor';
        }

        function sortCards(cards) {
            return [...cards].sort((a, b) => {
                // Featured cards always come first
                if (a.featured && !b.featured) return -1;
                if (!a.featured && b.featured) return 1;

                let aValue, bValue;

                switch (currentSort.field) {
                    case 'name':
                        aValue = a.name.toLowerCase();
                        bValue = b.name.toLowerCase();
                        break;
                    case 'network':
                        aValue = a.network;
                        bValue = b.network;
                        break;
                    case 'rewards':
                        aValue = a.rewards;
                        bValue = b.rewards;
                        break;
                    case 'fees':
                        aValue = a.fxFee;
                        bValue = b.fxFee;
                        break;
                    case 'atm':
                        aValue = a.atmFee;
                        bValue = b.atmFee;
                        break;
                    case 'monthly':
                        aValue = a.monthlyFee;
                        bValue = b.monthlyFee;
                        break;
                    case 'staking':
                        aValue = a.staking ? 1 : 0;
                        bValue = b.staking ? 1 : 0;
                        break;
                    case 'score':
                    default:
                        aValue = a.score;
                        bValue = b.score;
                        break;
                }

                if (typeof aValue === 'string') {
                    return currentSort.direction === 'asc'
                        ? aValue.localeCompare(bValue)
                        : bValue.localeCompare(aValue);
                }

                return currentSort.direction === 'asc'
                    ? aValue - bValue
                    : bValue - aValue;
            });
        }

        function filterCards() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const regionFilter = document.getElementById('regionFilter').value;

            filteredCards = CARDS.filter(card => {
                const matchesSearch = !searchTerm || 
                    card.name.toLowerCase().includes(searchTerm) ||
                    card.issuer.toLowerCase().includes(searchTerm) ||
                    card.network.toLowerCase().includes(searchTerm);

                const matchesRegion = !regionFilter || card.regions.includes(regionFilter);

                return matchesSearch && matchesRegion;
            });

            renderTable();
        }

        function attachEventListeners() {
            // Search functionality
            document.getElementById('searchBox').addEventListener('input', filterCards);
            document.getElementById('regionFilter').addEventListener('change', filterCards);

            // Sort functionality
            document.getElementById('sortSelect').addEventListener('change', function(e) {
                const [field, direction] = e.target.value.split('-');
                currentSort = { field, direction };
                renderTable();
                updateSortHeaders();
            });

            // Column header sorting
            document.querySelectorAll('.sortable').forEach(header => {
                header.addEventListener('click', function() {
                    const field = this.dataset.sort;
                    
                    if (currentSort.field === field) {
                        currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
                    } else {
                        currentSort = { field, direction: 'desc' };
                    }

                    renderTable();
                    updateSortHeaders();
                    updateSortSelect();
                });
            });
        }

        function updateSortHeaders() {
            document.querySelectorAll('.sortable').forEach(header => {
                header.classList.remove('sort-asc', 'sort-desc');
                if (header.dataset.sort === currentSort.field) {
                    header.classList.add(`sort-${currentSort.direction}`);
                }
            });
        }

        function updateSortSelect() {
            const sortSelect = document.getElementById('sortSelect');
            const sortValue = `${currentSort.field}-${currentSort.direction}`;
            
            // Check if the current sort combination exists in the select options
            const optionExists = Array.from(sortSelect.options).some(option => option.value === sortValue);
            
            if (optionExists) {
                sortSelect.value = sortValue;
            }
        }

        // Initial sort header update
        updateSortHeaders();
    </script>
    
    <footer class="footer">
        <div class="footer-links">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <a href="privacy-policy.html">Privacy Policy</a>
        </div>
        <p>&copy; 2025 Crypto Station. All rights reserved.</p>
    </footer>
</body>
</html>